[<img src="assets/images/komet_logo_full_bg_white.png" height="100"/>](https://projects.tib.eu/komet/en/)

# PID Manager Plugin

PID Manager for OJS

- [PID Manager Plugin](#pid-manager-plugin)
- [Features](#features)
    - [IGSN](#igsn)
    - [PIDINST](#pidinst)
- [Screenshot(s) / screen recording(s)](#screenshots--screen-recordings)
- [Install and configure the plugin](#install-and-configure-the-plugin)
    - [Requirements](#requirements)
    - [Install with Git](#install-with-git)
    - [Install via direct download](#install-via-direct-download)
    - [Configuration of the plugin](#configuration-of-the-plugin)
- [Development](#development)
    - [Structure](#structure)
    - [Notes](#notes)
- [Data Models](#data-models)
- [Contribute](#contribute)
    - [How to contribute](#how-to-contribute)
- [License](#license)

[![Project Status: Active – The project has reached a stable, usable state and is being actively developed.](https://www.repostatus.org/badges/latest/active.svg)](https://www.repostatus.org/#active)
[![Contributor Covenant](https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg)](code_of_conduct.md)

# Features

## IGSN

- Manual adding sample PIDs and labels
- Allows suggesting PIDs and Labels from DataCite
- Marks samples already added

# Screenshot(s) / screen recording(s)

![igsn-screenrecording.gif](.project/screenrecordings/igsn-screenrecording.gif)

# Install and configure the plugin

## Requirements

- PHP 8.0+

## Install with Git

Get the correct version for your OJS version:

- branch main: development version, don't use for production
- branch stable-3_5_0: use this version for OJS version 3.5.0.x
- branch stable-3_4_0: use this version for OJS version 3.4.0.x
- branch stable-3_3_0: use this version for OJS version 3.3.0.x

## Install via direct download

- Download release for your OJS version. _Note the correct version for you OJS version._
- Alternatively, download the code with the option 'Download ZIP'. _Note the correct branch for your OJS version._
- Extract the downloaded file to `/plugins/generic/pidManager`.

## Configuration of the plugin

- Login in your OJS instance as an Administrator or Manager
- Navigate to Website > Plugins > Installed Plugins > Generic Plugins > PID Manager Plugin
- Activate the plugin by clicking the checkbox
- Click on 'Settings'
- Activate all PIDs you want to use

# Development

## Structure

    .
    ├─ .github                       # Github specific
    ├─ .project                      # Project related files
    ├─ assets                        # Styles, images, javascript files
    ├─ classes                       # Main folder with models / logic
    │  ├─ Base                       # Base classes used by all PIDs
    │  ├─ Igsn                       # Classes for IGSN
    │  ├─ Pidinst                    # Classes for PIDINST
    │  └─ Settings                   # Classes for plugin settings
    ├─ locale                        # Language files
    ├─ public                        # Build files VueJs
    ├─ registry                      # Generated by localize
    ├─ resources                     # Source files VueJs
    ├─ templates                     # Templates folder
    ├─ .gitignore                    # Git ignore file
    ├─ composer.json                 # Composer configuration file
    ├─ LICENSE                       # License file
    ├─ package.json                  # Npm configuration file
    ├─ PidManagerPlugin.php          # Main class of plugin
    ├─ README.md                     # This file
    ├─ vite.config.*.js              # Vite configuration file(s)
    └─ version.xml                   # Version information of the plugin

## Notes

- OJS 3.3.0
    - Loading of the classes in the folder classes is done with composer classmap.
    - If you add or remove classes in this folder, run the following command to update the autoload files: composer
      dump-autoload -o.
    - Running composer install -o or composer update -o will also generate the autoload files.
    - The -o option generates the optimised files ready for production.
- OJS 3.4.0+
    - Loading of classes depends on PSR-4.
    - No composer.json file or vendor directory is needed.

# Data models

## IGSN

De IGSN's are saved in the publication_settings as an array of IGSN data models in the form of an JSON blob.

| name            | description                         |
|-----------------|-------------------------------------|
| doi             | Persistent identifier of the sample |
| label           | Label of the sample                 |
| creators        | Creator(s) of the sample            |
| publisher       | Publisher of the sample             |
| publicationYear | Publication year of the sample      |

```
[
  {
    'doi': '10.60792/qda014666',
    'label': 'Plant Voucher Specimen QDA014666',
    'creators': 'TERN Ecosystem Surveillance',
    'publisher': 'Terrestrial Ecosystem Research Network (TERN)',
    'publicationYear': '2025'
  },
  ...
]
```

## PIDINST

De PIDINST's are saved in the publication_settings as an array of PIDINST data models in the form of an JSON blob.

| name            | description                             |
|-----------------|-----------------------------------------|
| doi             | Persistent identifier of the instrument |
| label           | Label of the instrument                 |
| creators        | Creator(s) of the sample                |
| publisher       | Publisher of the sample                 |
| publicationYear | Publication year of the sample          |

```
[
  {
    'doi': '10.5286/isis.instrument.1189',
    'label': 'CHRONUS',
    'creators': 'ISIS Neutron and Muon Source',
    'publisher': 'Science and Technology Facilities Council',
    'publicationYear': '2025'
  },
  ...
]
```

# Contribute

All help is welcome: asking questions, providing documentation, testing, or even development.

## How to contribute

- Fork the repository
- Create a feature branch in your fork
- Make your changes
- Open a PR with your changes

# License

This project is published under GNU General Public License, Version 3.
